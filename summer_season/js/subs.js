document.addEventListener("DOMContentLoaded",function(){jsFill(),getSubs(),lsWarning()});function getSubs(){let ud=byAttr("sublist");for(let i=0;i<ud.length;i++)ptc("subs","*","round",getRound()?getRound():1).then(function(res){res=res.data;try{displaySubs(res)}catch{byAttr("sublist")[0].innerHTML=`<p>No one yet...</p>`}})}function displaySubs(sb){sb=sb.reverse();try{sb=sb.filter((value,index,self)=>self.findIndex(v=>v.name===value.name)===index)}catch(ex){console.error(ex)}try{sb=sb.filter((value,index,self)=>self.findIndex(v=>v.email===value.email)===index)}catch(ex){console.error(ex)}if(sb.length<1)return yAttr("sublist")[0].innerHTML=`<p>
    No one yet...
  </p>`,!1;let map={true:"Yes",false:"No",null:"No info","":"No info"};debug&&console.log(sb),byAttr("sublist")[0].innerHTML="";for(let i=0;i<sb.length;i++){let name=sb[i].name,email=sb[i].email,phone=sb[i].phone,skill=sb[i].skill,in_ladder=sb[i].in_ladder,already_playing=sb[i].already_playing,week1days=sb[i].week1days,week2days=sb[i].week2days;skill||(skill=map[skill]),phone&&(phone=`<a href='tel:${phone}'>${phone}</a>`),phone||(phone=map[phone]),week1days||(week1days=map[week1days]),week2days||(week2days=map[week2days]);let judge="";in_ladder==!1?judge="psx":already_playing==!0?judge="psy":already_playing==!1&&(judge="psz"),byAttr("sublist")[0].innerHTML+=`<details class="${judge}"><summary>${name}</summary><p class="infop">Email: <a href="mailto:${email}">${email}</a></p>
    <p class="infop">Phone: ${phone}</p><p class="infop">Skill Level: ${skill}</p><p class="infop">In Ladder: ${map[in_ladder]}</p>
    <p class="infop">Playing this Round: ${map[already_playing]}</p>
    <p class="infop">Days available in Round: ${week1days}</p></details>`}}